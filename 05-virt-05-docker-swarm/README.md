# Домашнее задание к занятию "5.5. Оркестрация кластером Docker контейнеров на примере Docker Swarm"

## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задача 1

Дайте письменые ответы на следующие вопросы:

- В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?
- Какой алгоритм выбора лидера используется в Docker Swarm кластере?
- Что такое Overlay Network?


ОТВЕТ
- В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?

Сервис в режиме Replicatied запускается в том количестве, которое указано в конфигурации кластера. Сервис в режиме Global запускается на всех нодах кластера по умолчанию.

- Какой алгоритм выбора лидера используется в Docker Swarm кластере?

Raft алгоритм. После недоступности лидера, на его место назначается кандитат, который отправляет запросы других узлам на то, чтобы его назначили лидером. Как только он получает ответные запросы этих узлов, кандидат становится лидером. Если кандидатов несколько, то выграет тот, кто наберет большее кол-во ответных запросов за один таймаут.

- Что такое Overlay Network?

Overlay Network служит для того, чтобы контейнеры запущеные на разных физических docker-хостах могли напрямую обмениваться данными.


## Задача 2

Создать ваш первый Docker Swarm кластер в Яндекс.Облаке

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker node ls
```

ОТВЕТ

![изображение](https://user-images.githubusercontent.com/89098193/217344051-16f6e5e8-6e2a-4381-9f1f-a8ad46dd1d25.png)

## Задача 3

Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker service ls
```

ОТВЕТ
![изображение](https://user-images.githubusercontent.com/89098193/217343998-a5484ecc-443f-4579-9679-a8af54a0e7f0.png)


## Задача 4 (*)

Выполнить на лидере Docker Swarm кластера команду (указанную ниже) и дать письменное описание её функционала, что она делает и зачем она нужна:
```
# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true
```

ОТВЕТ

Функция блокировки позволяет защитить наш стек приложений и всю систему уникальным ключом шифрования от возможных несанкционированных изменений. После перезагрузки docker необходимо ввести ключ и только тогда можно будет получить к нему доступ и ко всем остальным сервисам.
